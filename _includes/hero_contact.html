<!--Hero Section-->
<div class="container-fluid  hero-contact-section">
    <!-- Video -->
    <video class="hero-video" autoplay muted loop playsinline controlslist="nodownload">
        <source src="{{ site.baseurl }}/img/hero_back_play.mp4" type="video/mp4"/>
        Your browser does not support the video tag.
    </video>

    <!-- Mask Overlay -->
    <div class="mask"></div>
    <div class="z-1 container custom-container position-relative py-5">
        <div class="row justify-content-center align-items-start py-5">
            <div class="col-md-6 pt-5">
                <div class="contact-us py-3">Contact us</div>
                <div class="label text-white" style="font-size: 18px; padding-right: 100px;">
                    At Rombo AI, we&#039;re committed to supporting your journey towards
                    revolutionizing spectral analysis with AI.
                    <br/>
                    <br/>
                    Whether you have questions, need technical support, or want to explore how our
                    solutions can benefit your organization, our team is ready to assist.
                </div>
            </div>
            <div class="col-md-6 my-5 position-relative ">
                <div class="bg-white border border-secondary rounded-3 shadow p-4 text-start text-dark">
                    <div id="contact-heading" class="mb-4 text-left">
                        <p class="contact-secondary-headline">Get In Touch</p>
                    </div>
                    <form id="contact-form" data-toggle="validator" action="https://app.99inbound.com/api/e/TfLbh_oL"
                          method="POST">
                        <div class="form-group row mb-3">
                            <div class="col-sm-6">
                                <label for="firstName" class="label">First Name</label>
                                <input required type="text" name="name" id="firstName"
                                       class="form-control bg-light border-0 border-secondary rounded-1"
                                       placeholder="First Name">
                            </div>
                            <div class="col-sm-6">
                                <label for="lastName" class="label">Last Name</label>
                                <input required type="text" name="surname" id="lastName"
                                       class="form-control bg-light border-0 border-secondary rounded-1"
                                       placeholder="Last Name">
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="role" class="label">Company</label>
                            <input required type="text" name="company" id="company"
                                   class="form-control bg-light border-0 border-secondary rounded-1"
                                   placeholder="Company">
                        </div>
                        <div class="form-group mb-3">
                            <label for="email" class="label">Email</label>
                            <input required type="email" name="email" id="email"
                                   class="form-control bg-light border-0 border-secondary rounded-1"
                                   placeholder="Email">
                        </div>
                        <div class="form-group mb-3">
                            <label for="telephone" class="label">Telephone</label>
                            <input required type="text" name="telephone" id="telephone"
                                   class="form-control bg-light border-0 border-secondary rounded-1"
                                   placeholder="Telephone">
                        </div>
                        <div class="form-group mb-3">
                            <label for="role" class="label">Role</label>
                            <div class="input-group">
                                <select name="role" id="role"
                                        class="form-control bg-light border-0 border-secondary rounded-1">
                                    <option value="Management">Management</option>
                                    <option value="CTO">CTO</option>
                                    <option value="Product Owner">Product Owner</option>
                                    <option value="Employee">Employee</option>
                                    <option value="Other">Other</option>
                                </select>
                                <span class="input-group-text bg-white border-0">
                                    <img src="{{ site.baseurl }}/img/chevron-down.svg" alt="Arrow Down" width="24" height="24">
                                </span>
                            </div>
                        </div>
                        <div class="form-group mb-3">
                            <label for="query" class="label">Message</label>
                            <textarea required name="query" id="query"
                                      class="form-control bg-light border-0 border-secondary rounded-1"
                                      placeholder="Type your message here..."></textarea>
                        </div>
                        <div class="row justify-content-center align-items-center">
                            <div class="col-md-8">
                                <div class="form-group d-flex align-items-start mb-3">
                                    <input required type="checkbox" id="terms" name="terms" class="me-2" style="width: 20px; height: 20px;">
                                    <label for="terms" class="label fw-bold">
                                        I agree to the Terms and conditions. By registering, you confirm
                                        that you agree
                                        to the processing of your personal data by Rombo AI as described in the
                                        Privacy Statement.
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-4 text-md-end text-center">
                                <button type="submit" class="btn rounded-pill px-4 py-2 label"
                                        style="background:#FE900F; color: white; padding:16px;">Send email
                                </button>
                            </div>
                        </div>
                        <!-- Hidden field for spam protection -->
                        <div style="position: absolute; left: -5000px;">
                            <input type="checkbox" name="wonderful_forest_green_pinstriped_banana_slug" value="1"
                                   tabindex="-1" autocomplete="no">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>
<!--Hero Section-->
<script>
document.addEventListener('DOMContentLoaded', function() {
  var form = document.getElementById('contact-form');
  var heading = document.getElementById('contact-heading');
  var parent = form ? form.parentNode : null;
  var search = window.location.search;
  var pathname = window.location.pathname;
  var referrer = document.referrer;
  var calendlyUrl = 'https://calendly.com/zanda-andrea/45min';
  var redirectDelay = 3000;
  var isStatusOk = (search && search.includes('status=ok')) || (pathname && pathname.includes('status=ok'));
  var isFromContact = referrer && referrer.indexOf('/contact') !== -1;

  if (isStatusOk && !isFromContact && form && parent) {
    form.style.display = 'none';
    if (heading) heading.style.display = 'none';

    var msgDiv = document.createElement('section');
    msgDiv.setAttribute('role', 'status');
    msgDiv.className = 'd-flex flex-column justify-content-center align-items-center w-100';
    msgDiv.style.minHeight = '300px';
    msgDiv.style.minWidth = '100px';
    msgDiv.style.padding = '32px 16px';
    msgDiv.style.position = 'relative';
    msgDiv.style.zIndex = '10';
    msgDiv.innerHTML = `
        <div class="card-body text-center">
            <div class="mb-4">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" aria-hidden="true" class="mx-auto mb-3">
                <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#28a745" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            </div>
            <h2 class="h3 mb-3 fw-bold text-success">
            Thank you for contacting us!<br>
            <span style="display: block; font-weight: normal; margin-top: 0.75rem; color: black; font-size: 1.2rem;">
                Your message has been received successfully.
            </span>
            <span style="display: block; font-weight: normal; margin-top: 0.3rem; color: black; font-size: 1rem; font-style: italic;">
                You will be redirected to our booking page shortly.
            </span>
            <span id="countdown-timer" style="display: block; font-weight: normal; margin-top: 0.3rem; color: #FE900F; font-size: 1rem; font-style: italic;">
                Redirecting in 3 seconds...
            </span>
            <span style="display: block; font-weight: normal; margin-top: 0.3rem; color: black; font-size: 1rem; font-style: italic;">
                If not, please click the <strong>Book a Meeting</strong> button below.
            </span>
            </h2>


            <div class="border-top pt-3">
            <p class="small text-muted mb-2">If you are not redirected automatically:</p>
            <a id="calendly-link" href="${calendlyUrl}" target="_blank" rel="noopener" class="btn btn-outline-primary btn-sm d-inline-flex align-items-center">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true" class="me-2">
                <path d="M8 12H16M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Book a Meeting
            </a>
            </div>
        </div>
    `;
    parent.insertBefore(msgDiv, form.nextSibling);
    setTimeout(function() {
      window.location.href = calendlyUrl;
    }, redirectDelay);

    // Countdown logic
    var countdown = 3;
    var countdownSpan = msgDiv.querySelector('#countdown-timer');
    var countdownInterval = setInterval(function() {
      countdown--;
      if (countdownSpan) {
        countdownSpan.textContent = `Redirecting in ${countdown} second${countdown !== 1 ? 's' : ''}...`;
      }
      if (countdown <= 0) {
        clearInterval(countdownInterval);
      }
    }, 1000);
  }
});
</script>